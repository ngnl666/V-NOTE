var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{U as n,C as i,B as c,a0 as d,t as p,v as u,x as m,y as f,D as g,R as h,P as w,Q as y,I as b}from"./vendor.5dda48dc.js";import{f as x}from"./format.31a05643.js";import{a as v}from"./NoteTopBar.5c7aac5e.js";const N={name:"View",components:{NoteTopBar:v},setup(){const e=c("store"),p=d(),{state:u,addStar:m,getTime:f,getOneNote:g,setIsEdit:h,setIsOpen:w,setShowModal:y}=e,{markup:b}=x;let v="false"!==localStorage.getItem("isShowNextPage");return g(p.params.id),n((()=>{window.scrollTo({top:document.querySelector(".logoImg").offsetHeight+20,behavior:"smooth"})})),N=((e,t)=>{for(var a in t||(t={}))s.call(t,a)&&l(e,a,t[a]);if(r)for(var a of r(t))o.call(t,a)&&l(e,a,t[a]);return e})({addStar:m,getTime:f,isShowNextPage:v,setIsEdit:h,setIsOpen:w,setShowModal:y},i(u)),t(N,a({markup:b}));var N}},O={key:0,class:"p-4"},k={class:"flex justify-between mb-8"},I={class:"text-3xl dark:text-white"},S={class:"text-gray-400 font-extralight mt-4"},T=f("i",{class:"fas fa-edit"},null,-1),j=f("i",{class:"far fa-trash-alt"},null,-1),P={key:1},B={class:"rounded-md p-0.5 dark:bg-gray-100"},M=f("span",{class:"author text-sm font-bold md:text-xl"},"Written by",-1),E={class:""},C={class:"my-4"};N.render=function(e,t,a,r,s,o){const l=p("NoteTopBar");return e.currNote.title?(u(),m("div",O,[f("div",k,[f("div",null,[f("h3",I,g(e.currNote.title),1),f("p",S," 建立於 "+g(r.getTime(e.currNote.createdAt)),1)]),r.isShowNextPage?(u(),m(l,{key:0},{edit:h((()=>[f("span",{class:"noteTopBarIcon",onClick:t[1]||(t[1]=e=>{r.setIsEdit(!0),r.setIsOpen(!0)})},[T])])),delete:h((()=>[f("span",{class:"noteTopBarIcon",onClick:t[2]||(t[2]=t=>r.setShowModal(e.currNote,!0))},[j])])),_:1})):(u(),m("div",P,[f("p",B,[M,f("span",E,"- "+g(e.currNote.author),1)])]))]),f("div",{class:"font-light tracking-wide leading-8 dark:text-white",innerHTML:r.markup(e.currNote.content)},null,8,["innerHTML"]),(u(!0),m(w,null,y(e.currNote.image,(e=>(u(),m("div",null,[f("div",C,[f("img",{class:"rounded-xl shadow-xl",src:e.url,alt:"這是一張圖片"},null,8,["src"])])])))),256))])):b("",!0)};export{N as default};
